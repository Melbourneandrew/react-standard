# React Standard Hooks

## API hooks

- Location `modules/*/hooks/api`
- Names `use<Domain>Api`, methods `<verb><Domain>Api` eg. `useItemsApi`
- Pure HTTP via `useApi().callApi`; no React Query, no shared state, return typed promises

## Query hooks

- Location `modules/*/hooks/query`
- Names `use<Domain>sQuery` (lists) or `use<Domain>Query`
- Wrap `useQuery`; pull params from contexts/manager hooks
- Keys from `<domain>-query-keys`
- Keep server snake_case, expose domain-friendly loading/error labels + `refetch`

## Mutation hooks (these are also query hooks)

- Location `modules/*/hooks/query`
- Names `use<Domain><Action>Mutation`
- Wrap `useOptimisticMutation`; `queryKey` must come from `<domain>-query-keys.searchBase`
- Return `mutateAsync` renamed (`createItemAsync` etc.), plus `is<Action>ing`, `<action>Error`
- Perform optimistic cache writes + rely on `invalidateQueries` for final sync
- Used directly by components (no context)

## Manager hooks

- Location `modules/*/hooks`
- Names describe business intent (`useItemSearch`, `useItemDetail`)
- Compose query hooks + router/search params + derived helpers
- Own complex local/URL state; no API calls inside contexts/components

Manager hooks are the orchestration layer between UI components and the raw data hooks. API hooks only wrap `useApi().callApi` so they stay focused on HTTP concerns, and query/mutation hooks focus on React Query behavior (caching, optimistic updates, error wiring). Manager hooks consume those lower layers, combine them with router/search params, user actions, or view-model state, and expose the exact shape the UI needs. This separation keeps components declarative, gives us a single place to evolve business rules, and avoids mixing API concerns into presentation logic.

## Shared state via context

- If a manager hookâ€™s state must be shared, wrap it in a context provider (`ItemProvider`, `CollectionProvider`)
- Provider executes the manager hook once and exposes its return via `use<Domain>Context`
- Only shared, long-lived state goes in context; per-component state and all mutations stay in local hooks
